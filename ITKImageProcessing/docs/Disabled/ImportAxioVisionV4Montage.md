# Import AxioVision V4 Montage #

## Group (Subgroup) ##

Import/Export (Import)

## Description ##

This filter imports in a set of tiled images collected by a Zeiss montaging microscope. The user must point to the XML file which contains the meta-data for all the images. The images must be located in the same directory as the XML file. Each image will be put into an individual Data Container / Attribute Matrix / Attribute Array. The XML input file is the type of file that is put out by the Zeiss Zen software as the "*_info.xml" file and has output that is similar to the following:

      <?xml version="1.0" encoding="utf-8" ?>
      <ROOT>
        <Tags>
            <__Version>536875008</__Version>
            <Count>140</Count>
            <V0>Image</V0>
            <I0>1546</I0>
            <A0>0</A0>
            <V1/>
            <I1>530</I1>
            <A1>0</A1>
            <V2/>
            <I2>1549</I2>
            <A2>0</A2>
            <V3/>
            <I3>1550</I3>
            <A3>0</A3>
            <V4/>
            <I4>1551</I4>
            <A4>0</A4>
            <V5>SampleMosaic.bmp</V5>
            <I5>1553</I5>

The generated data containers will have the pattern of "Prefix_rXXcXX" where the XX is a possibly padded integer indicating either the row or column index that the data container belongs.

Utilizes the *itkReadImage* and *ColorToGrayScale* filters

## Parameters ##

| Name             | Type | Comment |
|------------------|------|---------|
| Input File | Path | This is the XML file generated by Zeiss that contains information about all of the tiled images |
| Change Origin | Bool | Set the origin of the mosaic to a user defined value |
| Change Spacing | Bool | Set the spacing of the mosaic to a user defined value |
| Origin | Float 3 Vect | The new origin of the mosaic |
| Spacing | Float 3 Vect | The new spacing of the mosaic |
| Convert to GrayScale | Bool | The filter will show an error if the images are already in grayscale format |
| Color Weighting | Float 3 Vect | The luminosity values for the conversion |
| Data Container Prefix | The prefix for each created Data Container object    |    |
| Cell AttributeMatrix Name | This attribute matrix holds a single image imported from disk  | Will be the same for all tiles   |
| Image AttributeArray Name  | The name of the Attribute Array that holds the image data. |  Will be the same for all tiles  |
| Meta Data AttributeMatrix Name | The name of the Meta-Data AttributeMatrix from the AxioVision \_meta.xml file | |

### Color To Gray Scale Notes ###

The luminosity method is a more sophisticated version of the average method. It also averages the values, but it forms a weighted average to account for human perception. We re more sensitive to green than other colors, so green is weighted most heavily. The default formula for luminosity is BT709 Gray scale:

    Red: 0.2125 Green: 0.7154 Blue: 0.0721. 

The user can set the weightings to what ever values they would like.

## Required Geometry ##

 Not Applicable

## Required Objects ##

 Not Applicable

## Created Objects ##

This filter will create one data container for each image tile that is in the xml file. That created Data Container will have a Cell Attribute Matrix which will also hold a single Attribute Array of the same type of the image (unless the user selects to convert images to Gray Scale images.)

| Kind | Default Name | Type | Component Dimensions | Description |
|------|--------------|------|----------------------|-------------|
| **Data Container** | Data Container Name | N/A | N/A |  |
| ImageGeometry |  | N/A | N/A |  |
| Cell AttributeMatrix |  | N/A | N/A |  |
| Image Data |  | N/A | N/A |  |

## Example Pipelines ##

Prebuilt Pipelines / Examples / ITKImageProcessing / AxioVision V4 Import

## License & Copyright ##

Please see the description file distributed with this plugin.

## DREAM3D Mailing Lists ##

If you need more help with a filter, please consider asking your question on the DREAM3D Users mailing list:
https://groups.google.com/forum/?hl=en#!forum/dream3d-users

