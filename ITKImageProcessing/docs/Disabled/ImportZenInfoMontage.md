# Import Zeiss ZenInfo Montage #

## Group (Subgroup) ##

Import/Export (Import)

## Description ##

This filter imports in a set of tiled images collected by a Zeiss montaging microscope. The user must point to the XML file which contains the meta-data for all the images. The images must be located in the same directory as the XML file. Each image will be put into an individual Data Container / Attribute Matrix / Attribute Array. The XML input file is the type of file that is put out by the Zeiss Zen software as the "*_info.xml" file and has output that is similar to the following:

    <?xml version="1.0" encoding="utf-8"?>
        <ExportDocument>
          <Image>
            <Filename>SampleMosaic_p0.bmp</Filename>
            <Bounds StartX="0" SizeX="1292" StartY="0" SizeY="968" StartC="0" StartS="0" StartB="0" StartM="0" />
            <Zoom>1</Zoom>
            <Z>8.398 Âµm</Z>
            <T>0 ps</T>
          </Image>
        </ExportDocument>

Please note that this xml file is distinctly different from the Zeiss AxioVision "*_meta.xml" files that are produced from the Zeiss AxioVision software.

The generated data containers will have the pattern of "Prefix_rXXcXX" where the XX is a possibly padded integer indicating either the row or column index that the data container belongs.

Utilizes the *itkReadImage* and *ColorToGrayScale* filters

**The origin values for each image are most probably given in Pixel coordinates and NOT physical units. The user should most likely over ride the spacing value and set all spacing values to 1.0**

## Parameters ##

| Name             | Type | Comment |
|------------------|------|---------|
| Input File | Path | This is the XML file generated by Zeiss that contains information about all of the tiled images |
| Name of Created Montage | String | Used for the montage infrastructure |
| Montage Column Start/End | Int x 2 | The starting and ending column (inclusive) that will be imported |
| Montage Row Start/End | Int x 2 | The starting and ending column (inclusive) that will be imported |
| Length Unit | Int | Selected from predefined list. See table below |
| Change Origin | Bool = OFF | Set the origin of the mosaic to a user defined value |
| Change Spacing | Bool = ON | Set the spacing of the mosaic to a user defined value |
| Origin | Float 3 Vect | The new origin of the mosaic |
| Spacing | Float 3 Vect {1.0, 1.0, 1.0} | The new spacing of the mosaic |
| Convert to GrayScale | Bool | The filter will show an error if the images are already in grayscale format |
| Color Weighting | Float 3 Vect | The luminosity values for the conversion |
| Data Container Prefix | String  | A prefix that can be used for each data container.  |
| Cell Attribute Matrix Name | String  | The name of the Cell Attribute Matrix. |
| Image Data Array Name | String  | The name of the import image data |

### Color To Gray Scale Notes ###

The luminosity method is a more sophisticated version of the average method. It also averages the values, but it forms a weighted average to account for human perception. We re more sensitive to green than other colors, so green is weighted most heavily. The default formula for luminosity is BT709 Gray scale:

    Red: 0.2125 Green: 0.7154 Blue: 0.0721. 

The user can set the weightings to what ever values they would like.

### Lenght Unit ###

    Yoctometer = 0
    Zeptometer = 1
    Attometer = 2
    Femtometer = 3
    Picometer = 4
    Nanometer = 5
    Micrometer = 6
    Millimeter = 7
    Centimeter = 8
    Decimeter = 9
    Meter = 10
    Decameter = 11
    Hectometer = 12
    Kilometer = 13
    Megameter = 14
    Gigameter = 15
    Terameter = 16
    Petameter = 17
    Exameter = 18
    Zettameter = 19
    Yottameter = 20
    Angstrom = 21
    Mil = 22
    Inch = 23
    Foot = 24
    Mile = 25
    Fathom = 26
    Unspecified = 100U
    Unknown = 101U

## Required Geometry ##

 Not Applicable

## Required Objects ##

 Not Applicable

## Created Objects ##

This filter will create one data container for each image tile that is in the xml file. That created Data Container will have a Cell Attribute Matrix which will also hold a single Attribute Array of the same type of the image (unless the user selects to convert images to Gray Scale images.)

| Kind | Default Name | Type | Component Dimensions | Description |
|------|--------------|------|----------------------|-------------|
| **Data Container** | Data Container Name | N/A | N/A |  |
| ImageGeometry |  | N/A | N/A |  |
| Cell AttributeMatrix |  | N/A | N/A |  |
| Image Data |  | N/A | N/A |  |

## Example Pipelines ##

Prebuilt Pipelines / Examples / ITKImageProcessing / ZenInfo Import

## License & Copyright ##

Please see the description file distributed with this plugin.

## DREAM3D Mailing Lists ##

If you need more help with a filter, please consider asking your question on the DREAM3D Users mailing list:
https://groups.google.com/forum/?hl=en#!forum/dream3d-users


